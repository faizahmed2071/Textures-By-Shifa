<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Textures By Shifa</title>
</head>
<body class="bg-white">

  <!-- Navbar -->
  <header class="w-full fixed top-0 bg-white shadow-md z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        
        <!-- Logo -->
        <div class="flex-shrink-0 text-2xl font-bold text-gray-800">
          Textures By Shifa
        </div>

        <!-- Desktop Nav Links -->
        <nav class="hidden md:flex space-x-8 text-gray-700 font-medium">
          <a href="#" class="hover:text-black">Home</a>
          <a href="#shop" class="hover:text-black">Shop</a>
          <a href="#customize" class="hover:text-black">Customize</a>
          <a href="#about" class="hover:text-black">About</a>
          <a href="#reviews" class="hover:text-black">Reviews</a>
          <a href="#contact" class="hover:text-black">Contact</a>
        </nav>

        <!-- Right Icons -->
        <div class="hidden md:flex items-center space-x-4">
          <!-- Cart Icon -->
          <button class="relative">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.5 3h13m-9 0a1 1 0 11-2 0 1 1 0 012 0zm8 0a1 1 0 11-2 0 1 1 0 012 0z" />
            </svg>
            <span class="absolute -top-1 -right-2 bg-red-500 text-white text-xs px-1.5 rounded-full">2</span>
          </button>

          <!-- Search Icon -->
          <button>
            <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
            </svg>
          </button>
        </div>

        <!-- Mobile Menu Button -->
        <div class="md:hidden flex items-center">
          <button id="mobile-menu-btn" class="focus:outline-none">
            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile Drawer Menu -->
    <div id="mobile-menu" class="md:hidden hidden px-4 pt-4 pb-6 space-y-4 bg-white shadow-lg">
      <a href="#" class="block text-gray-700 hover:text-black">Home</a>
      <a href="#shop" class="block text-gray-700 hover:text-black">Shop</a>
      <a href="#customize" class="block text-gray-700 hover:text-black">Customize</a>
      <a href="#about" class="block text-gray-700 hover:text-black">About</a>
      <a href="#reviews" class="block text-gray-700 hover:text-black">Reviews</a>
      <a href="#contact" class="block text-gray-700 hover:text-black">Contact</a>
    </div>
  </header>
  
  
  <!-- Hero Section with Split Layout -->
<section class="bg-gray-100 w-full py-12 sm:py-20" id="home">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col-reverse md:flex-row items-center gap-12">
    
    <!-- Left Content -->
    <div class="text-center md:text-left md:w-1/2">
      <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-800 leading-tight">
        Bring Your Walls to Life<br />
        <span class="text-pink-500">with Custom Art</span>
      </h1>
      <p class="mt-4 text-gray-600 text-lg">
        Discover hand-painted masterpieces and personalize them with canvas sizes and artistic styles that suit your space.
      </p>
      <div class="mt-6 flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
        <a href="#shop" class="px-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 text-lg transition">
          Shop Now
        </a>
        <a href="#customize" class="px-6 py-3 border border-pink-500 text-pink-500 rounded-xl hover:bg-pink-50 text-lg transition">
          Customize Yours
        </a>
      </div>
    </div>

    <!-- Right: Slideshow -->
    <div class="relative w-full h-[300px] sm:h-[400px] lg:h-[500px] overflow-hidden rounded-2xl shadow-lg" style="margin-top: 36px;">
      <div id="carouselSlides" class="w-full h-full relative">
        <!-- Slide 1 -->
        <img src="resources/carousel1.jpg"
             class="carousel-image absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 opacity-100" />
        <!-- Slide 2 -->
        <img src="resources/carousel2.jpg"
             class="carousel-image absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 opacity-0" />
        <!-- Slide 3 -->
        <img src="resources/carousel3.jpg"
             class="carousel-image absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 opacity-0" />
      </div>
    </div>

  </div>
</section>
<!-- Featured Categories Section (Updated for Square Images) -->
<section class="py-16 bg-gray-50" id="categories">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Section Heading -->
    <div class="text-center mb-12">
      <h2 class="text-3xl sm:text-4xl font-bold text-gray-800">Explore by Style</h2>
      <p class="mt-2 text-gray-600 text-lg">Choose from unique styles to match your space and vibe</p>
    </div>

    <!-- Square Image Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
      
      <!-- Category 1 -->
      <a href="#shop" class="group bg-white rounded-xl shadow hover:shadow-lg transition overflow-hidden">
        <div class="aspect-w-1 aspect-h-1">
          <img src="resources/painting.jpg" alt="Paintings"
               class="object-cover w-full h-full group-hover:scale-105 transition-transform duration-300">
        </div>
        <div class="p-4 text-center">
          <h3 class="text-xl font-semibold text-gray-800">Paintings</h3>
          <p class="text-gray-500 mt-1 text-sm">Classic hand-painted designs</p>
        </div>
      </a>

      <!-- Category 2 -->
      <a href="#shop" class="group bg-white rounded-xl shadow hover:shadow-lg transition overflow-hidden">
        <div class="aspect-w-1 aspect-h-1">
          <img src="resources/textured painting.jpg" alt="Texture Art"
               class="object-cover w-full h-full group-hover:scale-105 transition-transform duration-300">
        </div>
        <div class="p-4 text-center">
          <h3 class="text-xl font-semibold text-gray-800">Texture Art</h3>
          <p class="text-gray-500 mt-1 text-sm">Rich and tactile textures</p>
        </div>
      </a>

      <!-- Category 3 -->
      <a href="#shop" class="group bg-white rounded-xl shadow hover:shadow-lg transition overflow-hidden">
        <div class="aspect-w-1 aspect-h-1">
          <img src="resources/lippon.jpg" alt="Lippon Art"
               class="object-cover w-full h-full group-hover:scale-105 transition-transform duration-300">
        </div>
        <div class="p-4 text-center">
          <h3 class="text-xl font-semibold text-gray-800">Lippon Art</h3>
          <p class="text-gray-500 mt-1 text-sm">Bold strokes, vibrant appeal</p>
        </div>
      </a>

      <!-- Category 4 -->
      <a href="#shop" class="group bg-white rounded-xl shadow hover:shadow-lg transition overflow-hidden">
        <div class="aspect-w-1 aspect-h-1">
          <img src="resources/Tex+paint.jpg" alt="Textured + Painting"
               class="object-cover w-full h-full group-hover:scale-105 transition-transform duration-300">
        </div>
        <div class="p-4 text-center">
          <h3 class="text-xl font-semibold text-gray-800">Textured + Painting</h3>
          <p class="text-gray-500 mt-1 text-sm">Best of both worlds</p>
        </div>
      </a>

    </div>
  </div>
</section>


<!-- Customize Your Painting Section (Enhanced) -->
<section class="py-16 bg-gray-100" id="customize">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Header -->
    <div class="text-center mb-12">
      <h2 class="text-3xl sm:text-4xl font-bold text-gray-800">Customize Your Painting</h2>
      <p class="mt-2 text-gray-600 text-lg">Select your style, canvas and give your creative input</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-1 gap-12 items-start">
      <div class="bg-white p-6 rounded-xl shadow-md w-full">
        <form id="customForm" class="space-y-6">
          
          <!-- Canvas Size -->
          <div>
            <label class="block mb-1 text-gray-700 font-medium">Canvas Size</label>
            <select id="canvasSize" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-pink-400">
              <option value="8x10">8 x 10 in</option>
              <option value="12x16">12 x 16 in</option>
              <option value="16x20">16 x 20 in</option>
              <option value="18x24">18 x 24 in</option>
            </select>
          </div>

          <!-- Art Type with Better Tooltips -->
<div>
  <label class="block mb-2 text-gray-700 font-medium">Select Art Type</label>

  <!-- Responsive Grid: 2 columns on sm+, 1 column on mobile -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 relative">

    <!-- Painting -->
    <!-- Painting with Closeable Tooltip -->
<div class="relative">
  <input type="hidden" name="artType" id="artTypeInput" />

  <button type="button"
          class="art-btn border border-pink-500 text-pink-500 rounded-lg py-2 w-full flex items-center justify-between px-4 transition"
          data-art="Painting"
          onclick="selectArt('Painting')">
    Painting
    <span class="text-gray-400 text-xl cursor-pointer"  onclick="toggleInfo('info1')">‚ÑπÔ∏è</span>
  </button>

  <!-- Tooltip Box -->
  <div id="info1"
       class="hidden absolute left-0 w-64 mt-2 bg-white border border-pink-200 rounded-xl shadow-lg p-4 text-sm text-gray-700 z-20 relative">

    <!-- Close Button -->
    <button type="button" onclick="closeInfo('info1')"
            class="absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-lg font-bold focus:outline-none">
      √ó
    </button>

    <!-- Tooltip Content -->
    üé® <strong>Painting:</strong><br>
    Traditional hand-painted artwork using brush strokes and color tones.
  </div>
</div>


<!-- Painting with Closeable Tooltip -->
<div class="relative">
  <button type="button"
          class="art-btn border border-pink-500 text-pink-500 rounded-lg py-2 w-full flex items-center justify-between px-4 transition"
          data-art="Textured Art"
          onclick="selectArt('Textured Art')">
    Textured Art
    <span class="text-gray-400 text-xl cursor-pointer" onclick="toggleInfo('info2')">‚ÑπÔ∏è</span>
  </button>

  <!-- Tooltip Box -->
  <div id="info2"
       class="hidden absolute left-0 w-64 mt-2 bg-white border border-pink-200 rounded-xl shadow-lg p-4 text-sm text-gray-700 z-20 relative">

    <!-- Close Button -->
    <button type="button" onclick="closeInfo('info2')"
            class="absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-lg font-bold focus:outline-none">
      √ó
    </button>

    <!-- Tooltip Content -->
    üé® <strong>Textured Art:</strong><br>
    Features raised textures and depth for a tactile feel.
  </div>
</div>


<!-- Painting with Closeable Tooltip -->
<div class="relative">
  <button type="button"
          class="art-btn border border-pink-500 text-pink-500 rounded-lg py-2 w-full flex items-center justify-between px-4 transition"
          data-art="Lippan Art"
          onclick="selectArt('Lippan Art')">
    Lippan Art
    <span class="text-gray-400 text-xl cursor-pointer"  onclick="toggleInfo('info3')">‚ÑπÔ∏è</span>
  </button>

  <!-- Tooltip Box -->
  <div id="info3"
       class="hidden absolute left-0 w-64 mt-2 bg-white border border-pink-200 rounded-xl shadow-lg p-4 text-sm text-gray-700 z-20 relative">

    <!-- Close Button -->
    <button type="button" onclick="closeInfo('info3')"
            class="absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-lg font-bold focus:outline-none">
      √ó
    </button>

    <!-- Tooltip Content -->
    üé® <strong>Lippan Art:</strong><br>
     Glossy, glamorous art with bold accents and glitter.
  </div>
</div>


<!-- Painting with Closeable Tooltip -->
<div class="relative">
  <button type="button"
          class="art-btn border border-pink-500 text-pink-500 rounded-lg py-2 w-full flex items-center justify-between px-4 transition"
          data-art="Textured + Painting"
          onclick="selectArt('Textured + Painting')">
    Textured + Painting
    <span class="text-gray-400 text-xl cursor-pointer" onclick="toggleInfo('info4')">‚ÑπÔ∏è</span>
  </button>

  <!-- Tooltip Box -->
  <div id="info4"
       class="hidden absolute left-0 w-64 mt-2 bg-white border border-pink-200 rounded-xl shadow-lg p-4 text-sm text-gray-700 z-20 relative">

    <!-- Close Button -->
    <button type="button" onclick="closeInfo('info4')"
            class="absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-lg font-bold focus:outline-none">
      √ó
    </button>

    <!-- Tooltip Content -->
    üé® <strong>Textured + Painting:</strong><br>
     Combines brushwork and texture for a layered effect.
  </div>
</div>


    
    
  </div>
</div>
         <!-- Color Palette Section (with RGB extractor) -->
<div>
  <label class="block mb-2 text-gray-700 font-medium"> Color Palette</label>
  <div class="flex flex-col gap-3">

    <!-- Color Row -->
    <div class="flex items-center gap-4">
      <!-- Color Picker -->
      <input type="color" id="colorPicker" class="w-14 h-10 rounded border border-gray-300">

      <!-- RGB Code (auto-filled) -->
      <input type="text" id="rgbOutput" readonly
             class="border border-gray-300 p-2 rounded-lg w-44 text-gray-600 bg-gray-100 cursor-default"
             placeholder="RGB value">
    </div>

    <!-- Color Name -->
    <input type="text" placeholder="Color name (e.g. Sky Blue)"
           id="colorName" class="border p-2 rounded-lg w-full border-gray-300">
  </div>
</div>

          <!-- Conditional Text Field (if Painting or Textured + Painting) -->
          <div id="contentField" class="hidden">
            <label class="block mb-1 text-gray-700 font-medium mt-4">Text on Painting</label>
            <input type="text" placeholder="Enter text to be written on the painting"
                   id="textOnPainting" class="w-full border border-gray-300 p-2 rounded-lg">
          </div>

          <!-- Painting Idea Text Area -->
          <div>
            <label class="block mb-1 text-gray-700 font-medium">Describe Your Idea</label>
            <textarea id="idea" rows="4" placeholder="Describe how you want the painting to be..."
                      class="w-full border border-gray-300 p-2 rounded-lg resize-none"></textarea>
          </div>

          <!-- Contact Details Heading -->
          <div class="mb-6">
            <h3 class="text-2xl font-semibold text-gray-800">Contact Details</h3>
            <p class="text-gray-600 mt-1 text-sm">Let us know how to get in touch with you regarding your custom artwork.</p>
          </div>


          <!-- Customer Details -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Name -->
              <div>
                <label for="customerName" class="block mb-1 text-gray-700 font-medium">Your Name</label>
                <input type="text" id="customerName" name="customerName" placeholder="Enter your name"
                      class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-pink-400" required>
              </div>

              <!-- Email -->
              <div>
                <label for="customerEmail" class="block mb-1 text-gray-700 font-medium">Email Address</label>
                <input type="email" id="customerEmail" name="customerEmail" placeholder="Enter your email"
                      class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-pink-400" required>
              </div>

              <!-- Phone -->
              <div class="md:col-span-2">
                <label for="customerPhone" class="block mb-1 text-gray-700 font-medium">Phone Number</label>
                <input type="tel" id="customerPhone" name="customerPhone" placeholder="e.g. +91 9876543210"
                      class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-pink-400">
              </div>
            </div>


          <!-- CTA -->
          <button type="submit" 
                  class="w-full bg-pink-500 text-white py-3 rounded-lg text-lg hover:bg-pink-600 transition">
            Place Order
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Preview Modal -->
<div id="previewModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-xl p-6 max-w-xl w-full shadow-xl relative">
    
    <h3 class="text-2xl font-bold text-gray-800 mb-4">Preview Your Order</h3>
    
    <div class="space-y-2 text-gray-700 text-sm" id="previewContent">
      <!-- JS will populate preview here -->
    </div>

    <div class="mt-6 flex justify-end gap-4">
      <button onclick="closePreview()" class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 text-sm">Edit Details</button>
      <button onclick="submitConfirmed()" class="px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 text-sm">Confirm & Submit</button>
    </div>
  </div>
</div>
<!-- ‚úÖ Success Modal -->
<div id="successModal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden transition-all duration-300 scale-95 opacity-0">
  <div class="bg-white rounded-2xl p-6 text-center shadow-xl w-80 transform transition-all duration-500 scale-95 opacity-0 animate-fade-in">
    <div class="text-green-500 text-5xl mb-2 animate-bounce">‚úÖ</div>
    <h2 class="text-xl font-semibold mb-2">Order Placed!</h2>
    <p class="text-gray-600 mb-4">We‚Äôve received your custom order and will contact you shortly.</p>
    <button onclick="closeSuccessModal()"
      class="mt-2 bg-pink-500 text-white px-4 py-2 rounded-lg hover:bg-pink-600 transition">
      Close
    </button>
  </div>
</div>
</section>

<footer class="bg-gray-900 text-gray-300 px-6 py-12">
  <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10">

    <!-- Brand -->
    <div>
      <h2 class="text-2xl font-bold text-white mb-3">Textures By Shifa</h2>
      <p class="text-sm leading-relaxed">
        Unique handmade paintings and textures that add soul to your space.
      </p>
    </div>

    <!-- Quick Links -->
    <div>
      <h3 class="text-lg font-semibold text-white mb-4">Quick Links</h3>
      <ul class="space-y-2 text-sm">
        <li><a href="#" class="hover:text-white">Home</a></li>
        <li><a href="#shop" class="hover:text-white">Shop</a></li>
        <li><a href="#customize" class="hover:text-white">Customize</a></li>
        <li><a href="#about" class="hover:text-white">About</a></li>
        <li><a href="#contact" class="hover:text-white">Contact</a></li>
      </ul>
    </div>

    <!-- Contact -->
    <div>
      <h3 class="text-lg font-semibold text-white mb-4">Contact Us</h3>
      <p class="text-sm mb-4">Email: <a href="mailto:texturesbyshifa@gmail.com" class="hover:text-white">texturesbyshifa@gmail.com</a></p>
      <p class="text-sm mb-4">Phone: <a href="tel:+91XXXXXXXXXX" class="hover:text-white">+91 XXXXX-XXXXX</a></p>
      <p class="text-sm mb-4">Location: India</p>
    </div>

    <!-- Newsletter / Socials -->
    <div>
      <h3 class="text-lg font-semibold text-white mb-4">Stay Connected</h3>
      <div class="flex space-x-4 mb-4">
        <a href="#" class="hover:text-white">
          <svg class="w-7 h-7" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M320.3 205C256.8 204.8 205.2 256.2 205 319.7C204.8 383.2 256.2 434.8 319.7 435C383.2 435.2 434.8 383.8 435 320.3C435.2 256.8 383.8 205.2 320.3 205zM319.7 245.4C360.9 245.2 394.4 278.5 394.6 319.7C394.8 360.9 361.5 394.4 320.3 394.6C279.1 394.8 245.6 361.5 245.4 320.3C245.2 279.1 278.5 245.6 319.7 245.4zM413.1 200.3C413.1 185.5 425.1 173.5 439.9 173.5C454.7 173.5 466.7 185.5 466.7 200.3C466.7 215.1 454.7 227.1 439.9 227.1C425.1 227.1 413.1 215.1 413.1 200.3zM542.8 227.5C541.1 191.6 532.9 159.8 506.6 133.6C480.4 107.4 448.6 99.2 412.7 97.4C375.7 95.3 264.8 95.3 227.8 97.4C192 99.1 160.2 107.3 133.9 133.5C107.6 159.7 99.5 191.5 97.7 227.4C95.6 264.4 95.6 375.3 97.7 412.3C99.4 448.2 107.6 480 133.9 506.2C160.2 532.4 191.9 540.6 227.8 542.4C264.8 544.5 375.7 544.5 412.7 542.4C448.6 540.7 480.4 532.5 506.6 506.2C532.8 480 541 448.2 542.8 412.3C544.9 375.3 544.9 264.5 542.8 227.5zM495 452C487.2 471.6 472.1 486.7 452.4 494.6C422.9 506.3 352.9 503.6 320.3 503.6C287.7 503.6 217.6 506.2 188.2 494.6C168.6 486.8 153.5 471.7 145.6 452C133.9 422.5 136.6 352.5 136.6 319.9C136.6 287.3 134 217.2 145.6 187.8C153.4 168.2 168.5 153.1 188.2 145.2C217.7 133.5 287.7 136.2 320.3 136.2C352.9 136.2 423 133.6 452.4 145.2C472 153 487.1 168.1 495 187.8C506.7 217.3 504 287.3 504 319.9C504 352.5 506.7 422.6 495 452z"/></svg>
        </a>
        <!-- Add more icons here -->
      </div>
    </div>

  </div>

  <div class="mt-10 border-t border-gray-700 pt-6 text-center text-sm text-gray-500">
    &copy; 2025 Textures By Shifa. All rights reserved.
  </div>
</footer>


<script>


function showSuccessModal() {
  const modal = document.getElementById("successModal");
  modal.classList.remove("hidden");

  // Animate modal in using opacity/scale
  const box = modal.querySelector("div");
  box.classList.remove("scale-95", "opacity-0");
  box.classList.add("scale-100", "opacity-100");

  // Ensure modal is fully visible
  modal.classList.add("opacity-100");
  modal.classList.remove("opacity-0");
}

function closeSuccessModal() {
  const modal = document.getElementById("successModal");
  const box = modal.querySelector("div");

  // Animate modal out using opacity/scale
  box.classList.add("scale-95", "opacity-0");
  box.classList.remove("scale-100", "opacity-100");

  // Delay hiding to allow animation to complete
  setTimeout(() => {
    modal.classList.add("hidden");
    modal.classList.remove("opacity-100");
    modal.classList.add("opacity-0");
  }, 300); // matches duration-300
}


    let selectedArt = ""; // Global variable for art type

  function selectArt(type) {
    selectedArt = type;

    // Highlight selected button
    document.querySelectorAll(".art-btn").forEach(btn => {
      btn.classList.remove("bg-pink-500", "text-white");
      btn.classList.add("text-pink-500", "bg-white");
    });

    const selectedBtn = [...document.querySelectorAll(".art-btn")].find(btn => btn.dataset.art === type);
    if (selectedBtn) {
      selectedBtn.classList.add("bg-pink-500", "text-white");
    }

    // Toggle "text on painting" field
    const contentField = document.getElementById("contentField");
    if (type === "Painting" || type === "Textured + Painting") {
      contentField.classList.remove("hidden");
    } else {
      contentField.classList.add("hidden");
    }
  }

  // Form Submission
  document.getElementById("customForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const canvasSize = document.getElementById("canvasSize").value;
    const colorHex = document.getElementById("colorPicker").value;
    const rgbCode = document.getElementById("rgbOutput").value;
    const colorName = document.getElementById("colorName").value;
    const artType = document.getElementById("artTypeInput").value;
    const textOnPainting = document.getElementById("textOnPainting").value;
    const idea = document.getElementById("idea").value;
    const customerName = document.getElementById("customerName").value;
    const customerEmail = document.getElementById("customerEmail").value;
    const customerPhone = document.getElementById("customerPhone").value;

    const data = {
      canvasSize,
      artType,
      color: {
        name: colorName,
        hex: colorHex,
        rgb: rgbCode
      },
      textOnPainting,
      idea,
      customerName,
      customerEmail,
      customerPhone
    };

    try {
      const res = await fetch("https://textures-by-shifa-backend.onrender.com/api/order/custom", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      const result = await res.json();
      if (res.ok) {
        
        document.getElementById("customForm").reset();
      } else {
        alert("‚ùå Submission failed: " + result.message);
      }
    } catch (err) {
      console.error("Submission error:", err.message || err);
      alert("‚ö†Ô∏è Something went wrong. Try again.");
    }
  });

    const menuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

     const slides = document.querySelectorAll(".carousel-image");
  let currentSlide = 0;

  function showSlide(index) {
    slides.forEach((slide, i) => {
      slide.classList.remove("opacity-100");
      slide.classList.add("opacity-0");
      if (i === index) {
        slide.classList.remove("opacity-0");
        slide.classList.add("opacity-100");
      }
    });
  }

  // Auto slide every 5 seconds
  setInterval(() => {
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
  }, 3000);


    function toggleInfo(id) {
    const tooltips = document.querySelectorAll('[id^=info]');
    tooltips.forEach(t => {
      if (t.id !== id) t.classList.add('hidden'); // hide others
    });
    const tooltip = document.getElementById(id);
    tooltip.classList.toggle('hidden');
  }

  function closeInfo(id) {
    document.getElementById(id).classList.add('hidden');
  }

  function selectArt(selectedType) {
  // Set hidden input field value
  document.getElementById("artTypeInput").value = selectedType;

  // Highlight selected button and reset others
  const buttons = document.querySelectorAll(".art-btn");
  buttons.forEach(btn => {
    const isSelected = btn.getAttribute("data-art") === selectedType;
    btn.classList.toggle("bg-pink-500", isSelected);
    btn.classList.toggle("text-white", isSelected);
    btn.classList.toggle("text-pink-500", !isSelected);

    // Also reset any inner span (‚ÑπÔ∏è) if needed
    const infoIcon = btn.querySelector("span");
    if (infoIcon) {
      infoIcon.classList.toggle("text-white", isSelected);
      infoIcon.classList.toggle("text-gray-400", !isSelected);
    }
  });

  // Show/hide the "idea/content" field
  const showField = ["Painting", "Textured + Painting"].includes(selectedType);
  const contentField = document.getElementById("contentField");
  if (contentField) {
    contentField.classList.toggle("hidden", !showField);
  }
}

  
  const colorPicker = document.getElementById("colorPicker");
  const rgbOutput = document.getElementById("rgbOutput");

  colorPicker.addEventListener("input", function () {
    const hex = colorPicker.value;
    const rgb = hexToRgb(hex);
    rgbOutput.value = rgb;
  });

  // Convert hex color to RGB string
  function hexToRgb(hex) {
    const r = parseInt(hex.slice(1, 3), 16);
    const g = parseInt(hex.slice(3, 5), 16);
    const b = parseInt(hex.slice(5, 7), 16);
    return `rgb(${r}, ${g}, ${b})`;
  }

  const form = document.getElementById('customForm');
  const previewModal = document.getElementById('previewModal');
  const previewContent = document.getElementById('previewContent');
  let formDataCache = {};

  form.addEventListener('submit', function (e) {
    e.preventDefault(); // Stop normal form submit

    const canvasSize = document.getElementById('canvasSize').value;
    const artType = document.getElementById('artTypeInput').value;
    const colorName = document.getElementById('colorName').value;
    const rgbCode = document.getElementById('rgbOutput').value;
    const colorHex = document.getElementById('colorPicker').value;
    const textOnPainting = document.getElementById('textOnPainting')?.value || '';
    const idea = document.getElementById('idea').value;
    const customerName = document.getElementById('customerName').value;
    const customerEmail = document.getElementById('customerEmail').value;
    const customerPhone = document.getElementById('customerPhone').value;

    formDataCache = {
      canvasSize,
      artType,
      colorName,
      rgbCode,
      colorHex,
      textOnPainting,
      idea,
      customerName,
      customerEmail,
      customerPhone
    };

    // Populate preview
    previewContent.innerHTML = `
      <p><strong>Canvas Size:</strong> ${canvasSize}</p>
      <p><strong>Art Type:</strong> ${artType}</p>
      <p><strong>Color:</strong> ${colorName} ‚Äì ${colorHex} ‚Äì ${rgbCode}</p>
      ${textOnPainting ? `<p><strong>Text on Painting:</strong> ${textOnPainting}</p>` : ''}
      <p><strong>Idea:</strong> ${idea}</p>
      <hr class="my-2">
      <p><strong>Name:</strong> ${customerName}</p>
      <p><strong>Email:</strong> ${customerEmail}</p>
      <p><strong>Phone:</strong> ${customerPhone}</p>
    `;

    previewModal.classList.remove('hidden');
  });

  function closePreview() {
    previewModal.classList.add('hidden');
  }

  let isSubmitting = false;

  function submitConfirmed() {
    if (isSubmitting) return; // Prevent double submit
    isSubmitting = true;

    // Disable the button and show loading spinner
    const confirmBtn = document.querySelector('#previewModal button.bg-pink-500');
    confirmBtn.disabled = true;
    confirmBtn.innerHTML = `<svg class="animate-spin h-5 w-5 mr-2 inline-block text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>Submitting...`;

    // Gather form data from formDataCache (already populated in preview)
    const data = {
      canvasSize: formDataCache.canvasSize,
      artType: formDataCache.artType,
      color: {
        name: formDataCache.colorName,
        hex: formDataCache.colorHex,
        rgb: formDataCache.rgbCode
      },
      textOnPainting: formDataCache.textOnPainting,
      idea: formDataCache.idea,
      customerName: formDataCache.customerName,
      customerEmail: formDataCache.customerEmail,
      customerPhone: formDataCache.customerPhone,
      confirmed: true
    };

    fetch("https://textures-by-shifa-backend.onrender.com/api/order/custom", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    })
    .then(res => res.json())
    .then(result => {
      isSubmitting = false;
      confirmBtn.disabled = false;
      confirmBtn.innerHTML = "Confirm & Submit";
      if (result && result.message && !result.preview) {
        closePreview();
        setTimeout(() => {
          showSuccessModal();
        }, 350); // Wait for preview modal to close/animate
        document.getElementById("customForm").reset();
      } else {
        alert("‚ùå Submission failed: " + (result.message || "Unknown error"));
      }
    })
    .catch(err => {
      isSubmitting = false;
      confirmBtn.disabled = false;
      confirmBtn.innerHTML = "Confirm & Submit";
      alert("‚ö†Ô∏è Something went wrong. Try again.");
      console.error(err);
    });
  }
  </script>

</body>
</html>
